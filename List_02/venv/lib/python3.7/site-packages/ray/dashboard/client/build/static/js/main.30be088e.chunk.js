(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{82:function(e,t,a){e.exports=a(95)},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),l=(a(87),a(6)),i=a(7),s=a(8),u=a(9),m=a(125),p=a(18),d=a(76),f=a(34),b=a(10),g=a.n(b),h=a(15),v=a(17),y=a(128),E=a(114),j=a(127),O=a(124),k=a(4),x=window.location.origin,C=function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r,o,c,l,i,s,u,m,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new URL(t,x),r=0,o=Object.entries(a);r<o.length;r++)c=Object(h.a)(o[r],2),l=c[0],i=c[1],n.searchParams.set(l,i);return e.next=4,fetch(n.toString());case 4:return s=e.sent,e.next=7,s.json();case 7:if(u=e.sent,m=u.result,null===(p=u.error)){e.next=11;break}throw Error(p);case 11:return e.abrupt("return",m);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){return C("/api/ray_config",{})},w=function(){return C("/api/node_info",{})},S=function(){return C("/api/raylet_info",{})},I=function(e,t){return C("/api/errors",{hostname:e,pid:null===t?"":t})},F=function(e,t){return C("/api/logs",{hostname:e,pid:null===t?"":t})},T=function(e,t,a){return C("/api/launch_profiling",{node_id:e,pid:t,duration:a})},A=function(e){return C("/api/check_profiling_status",{profiling_id:e})},L=function(e){return"".concat(x,"/speedscope/index.html#profileURL=").concat(encodeURIComponent("".concat(x,"/api/get_profiling_info?profiling_id=").concat(e)))},_=function(e,t,a){return C("/api/kill_actor",{actor_id:e,ip_address:t,port:a})},D=function(){return C("/api/tune_info",{})},R=function(){return C("/api/tune_availability",{})},W=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.lastUpdatedAt,n=e.error;return r.a.createElement("div",{className:t.root},null!==a&&r.a.createElement(E.a,{className:t.lastUpdated},"Last updated: ",new Date(a).toLocaleString()),null!==n&&r.a.createElement(E.a,{className:t.error},n))}}]),a}(r.a.Component),M=Object(p.b)((function(e){return{lastUpdatedAt:e.dashboard.lastUpdatedAt,error:e.dashboard.error}}))(Object(k.a)((function(e){return Object(y.a)({root:{marginTop:e.spacing(2)},lastUpdated:{color:e.palette.text.secondary,fontSize:"0.8125rem",textAlign:"center"},error:{color:e.palette.error.main,fontSize:"0.8125rem",textAlign:"center"}})}))(W)),B=a(51),P=a.n(B),z=a(48),U=a(58),H=a(117),V=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={expanded:!0,profiling:{}},e.setExpanded=function(t){return function(){e.setState({expanded:t})}},e.handleProfilingClick=function(t){return Object(v.a)(g.a.mark((function a(){var n,r,o;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(-1===(n=e.props.actor).state){a.next=9;break}return a.next=4,T(n.nodeId,n.pid,t);case 4:return r=a.sent,e.setState((function(e){return{profiling:Object(U.a)({},e.profiling,Object(z.a)({},r,{startTime:Date.now(),latestResponse:null}))}})),o=function(){var t=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(r);case 2:a=t.sent,e.setState((function(e){return{profiling:Object(U.a)({},e.profiling,Object(z.a)({},r,Object(U.a)({},e.profiling[r],{latestResponse:a})))}})),"pending"===a.status&&setTimeout(o,1e3);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.next=9,o();case 9:case"end":return a.stop()}}),a)})))},e.killActor=function(){var t=e.props.actor;0===t.state&&_(t.actorId,t.ipAddress,t.port)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.actor,o=this.state,c=o.expanded,l=o.profiling,i=-1!==n.state?[{label:"ActorTitle",value:n.actorTitle},{label:"State",value:n.state.toLocaleString()},{label:"Resources",value:Object.entries(n.usedResources).length>0&&Object.entries(n.usedResources).sort((function(e,t){return e[0].localeCompare(t[0])})).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return"".concat(n.toLocaleString()," ").concat(a)})).join(", ")},{label:"Pending",value:n.taskQueueLength.toLocaleString()},{label:"Executed",value:n.numExecutedTasks.toLocaleString()},{label:"NumObjectIdsInScope",value:n.numObjectIdsInScope.toLocaleString()},{label:"NumLocalObjects",value:n.numLocalObjects.toLocaleString()},{label:"UsedLocalObjectMemory",value:n.usedObjectStoreMemory.toLocaleString()}]:[{label:"ID",value:n.actorId},{label:"Required resources",value:Object.entries(n.requiredResources).length>0&&Object.entries(n.requiredResources).sort((function(e,t){return e[0].localeCompare(t[0])})).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return"".concat(n.toLocaleString()," ").concat(a)})).join(", ")}],s=[];return-1!==n.state&&n.webuiDisplay&&(s=Object.keys(n.webuiDisplay).sort().map((function(e,t,o){var c=n.webuiDisplay[e],l=JSON.parse(c),i=l.message;return"html"===l.dtype&&(i=r.a.createElement("div",{className:a.inlineHTML,dangerouslySetInnerHTML:{__html:i}})),""===e?r.a.createElement(E.a,{className:a.webuiDisplay},"\xa0 \xa0 ",i):r.a.createElement(E.a,{className:a.webuiDisplay},"\xa0 \xa0 ",e,": ",i)}))),r.a.createElement("div",{className:a.root},r.a.createElement(E.a,{className:a.title},-1!==n.state?r.a.createElement(r.a.Fragment,null,"Actor ",n.actorId," ",Object.entries(n.children).length>0&&r.a.createElement(r.a.Fragment,null,"(",r.a.createElement("span",{className:a.action,onClick:this.setExpanded(!c)},c?"Collapse":"Expand"),")")," ","(Profile for",[10,30,60].map((function(t){return r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",{className:a.action,onClick:e.handleProfilingClick(t)},t,"s"))})),")"," ",0===n.state?r.a.createElement("span",{className:a.action,onClick:this.killActor},"Kill Actor"):"",Object.entries(l).map((function(e){var t=Object(h.a)(e,2),n=t[0],o=t[1],c=o.startTime,l=o.latestResponse;return null!==l&&r.a.createElement(r.a.Fragment,null,"(","pending"===l.status?"Profiling for ".concat(Math.round((Date.now()-c)/1e3),"s..."):"finished"===l.status?r.a.createElement("a",{className:a.action,href:L(n),rel:"noopener noreferrer",target:"_blank"},"Profiling result"):"error"===l.status?"Profiling error: ".concat(l.error.trim()):void 0,")"," ")}))):"infeasibleActor"===n.invalidStateType?r.a.createElement("span",{className:a.invalidStateTypeInfeasible},n.actorTitle," is infeasible. (This actor cannot be created because the Ray cluster cannot satisfy its resource requirements.)"):r.a.createElement("span",{className:a.invalidStateTypePendingActor},n.actorTitle," is pending until resources are available.")),r.a.createElement(E.a,{className:a.information},i.map((function(e){var t=e.label,n=e.value;return n&&n.length>0&&r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("span",{className:a.datum},t,": ",n)," ")}))),-1!==n.state&&r.a.createElement(r.a.Fragment,null,s.length>0&&r.a.createElement(r.a.Fragment,null,s),r.a.createElement(H.a,{in:c},r.a.createElement(G,{actors:n.children}))))}}]),a}(r.a.Component),q=Object(k.a)((function(e){return Object(y.a)({root:{borderColor:e.palette.divider,borderStyle:"solid",borderWidth:1,marginTop:e.spacing(2),padding:e.spacing(2)},title:{color:e.palette.text.secondary,fontSize:"0.75rem"},action:{color:e.palette.primary.main,textDecoration:"none","&:hover":{cursor:"pointer"}},invalidStateTypeInfeasible:{color:e.palette.error.main},invalidStateTypePendingActor:{color:e.palette.secondary.main},information:{fontSize:"0.875rem"},datum:{"&:not(:first-child)":{marginLeft:e.spacing(2)}},webuiDisplay:{fontSize:"0.875rem"},inlineHTML:{fontSize:"0.875rem",display:"inline"}})}))(V),J=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.actors;return Object.entries(e).map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return r.a.createElement(q,{actor:n,key:a})}))}}]),a}(r.a.Component),G=Object(k.a)((function(e){return Object(y.a)({})}))(J),K=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.rayletInfo;return r.a.createElement("div",null,r.a.createElement(E.a,{className:t.warning,color:"textSecondary"},r.a.createElement(P.a,{className:t.warningIcon})," Note: This tab is experimental."),null===a?r.a.createElement(E.a,{color:"textSecondary"},"Loading..."):0===Object.entries(a.actors).length?r.a.createElement(E.a,{color:"textSecondary"},"No actors found."):r.a.createElement(G,{actors:a.actors}))}}]),a}(r.a.Component),Q=Object(p.b)((function(e){return{rayletInfo:e.dashboard.rayletInfo}}))(Object(k.a)((function(e){return Object(y.a)({warning:{fontSize:"0.8125rem",marginBottom:e.spacing(2)},warningIcon:{fontSize:"1.25em",verticalAlign:"text-bottom"}})}))(K)),X=a(16),Y=a(119),Z=a(123),$=a(121),ee=a(122),te=a(120),ae=a(21),ne=a(126),re=a(118),oe=a(72),ce=a.n(oe),le=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleClose,n=e.title;return r.a.createElement(ne.a,{classes:{paper:t.paper},fullWidth:!0,maxWidth:"md",onClose:a,open:!0,scroll:"body"},r.a.createElement(re.a,{className:t.closeButton,onClick:a},r.a.createElement(ce.a,null)),r.a.createElement(E.a,{className:t.title},n),this.props.children)}}]),a}(r.a.Component),ie=Object(k.a)((function(e){return Object(y.a)({paper:{padding:e.spacing(3)},closeButton:{position:"absolute",right:e.spacing(1.5),top:e.spacing(1.5),zIndex:1},title:{borderBottomColor:e.palette.divider,borderBottomStyle:"solid",borderBottomWidth:1,fontSize:"1.5rem",lineHeight:1,marginBottom:e.spacing(3),paddingBottom:e.spacing(3)}})}))(le),se=a(33),ue=a.n(se),me=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.lines;return r.a.createElement(Y.a,null,r.a.createElement(te.a,null,a.map((function(e,a){return r.a.createElement($.a,{key:a},r.a.createElement(ee.a,{className:ue()(t.cell,t.lineNumber),"data-line-number":a+1}),r.a.createElement(ee.a,{className:ue()(t.cell,t.line)},e))}))))}}]),a}(r.a.Component),pe=Object(k.a)((function(e){return Object(y.a)({root:{overflowX:"auto"},cell:{borderWidth:0,fontFamily:"SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace",padding:0,"&:last-child":{paddingRight:0}},lineNumber:{color:e.palette.text.secondary,paddingRight:e.spacing(2),textAlign:"right",verticalAlign:"top",width:"1%","&::before":{content:"attr(data-line-number)"}},line:{textAlign:"left",whiteSpace:"pre-wrap"}})}))(me),de=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={result:null,error:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props,a=t.hostname,n=t.pid,e.next=4,I(a,n);case 4:r=e.sent,this.setState({result:r,error:null}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({result:null,error:e.t0.toString()});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.clearErrorDialog,n=e.hostname,o=this.state,c=o.result,l=o.error;return r.a.createElement(ie,{handleClose:a,title:"Errors"},null!==l?r.a.createElement(E.a,{color:"error"},l):null===c?r.a.createElement(E.a,{color:"textSecondary"},"Loading..."):Object.entries(c).map((function(e){var a=Object(h.a)(e,2),o=a[0],c=a[1];return r.a.createElement(r.a.Fragment,{key:o},r.a.createElement(E.a,{className:t.header},n," (PID: ",o,")"),c.length>0?c.map((function(e,a){var n=e.message,o=e.timestamp;return r.a.createElement("div",{className:t.error,key:a},r.a.createElement(E.a,{className:t.timestamp},"Error at ",new Date(1e3*o).toLocaleString()),r.a.createElement(pe,{lines:n.trim().split("\n")}))})):r.a.createElement(E.a,{color:"textSecondary"},"No errors found."))})))}}]),a}(r.a.Component),fe=Object(k.a)((function(e){return Object(y.a)({header:{lineHeight:1,marginBottom:e.spacing(3),marginTop:e.spacing(3)},error:{backgroundColor:Object(ae.b)(e.palette.error.main,.04),borderLeftColor:e.palette.error.main,borderLeftStyle:"solid",borderLeftWidth:2,marginTop:e.spacing(3),padding:e.spacing(2)},timestamp:{color:e.palette.text.secondary,marginBottom:e.spacing(1)}})}))(de),be=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={result:null,error:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props,a=t.hostname,n=t.pid,e.next=4,F(a,n);case 4:r=e.sent,this.setState({result:r,error:null}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({result:null,error:e.t0.toString()});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.clearLogDialog,n=e.hostname,o=this.state,c=o.result,l=o.error;return r.a.createElement(ie,{handleClose:a,title:"Logs"},null!==l?r.a.createElement(E.a,{color:"error"},l):null===c?r.a.createElement(E.a,{color:"textSecondary"},"Loading..."):Object.entries(c).map((function(e){var a=Object(h.a)(e,2),o=a[0],c=a[1];return r.a.createElement(r.a.Fragment,{key:o},r.a.createElement(E.a,{className:t.header},n," (PID: ",o,")"),c.length>0?r.a.createElement("div",{className:t.log},r.a.createElement(pe,{lines:c})):r.a.createElement(E.a,{color:"textSecondary"},"No logs found."))})))}}]),a}(r.a.Component),ge=Object(k.a)((function(e){return Object(y.a)({header:{lineHeight:1,marginBottom:e.spacing(3),marginTop:e.spacing(3)},log:{backgroundColor:Object(ae.b)(e.palette.primary.main,.04),borderLeftColor:e.palette.primary.main,borderLeftStyle:"solid",borderLeftWidth:2,padding:e.spacing(2)}})}))(be),he=a(73),ve=a.n(he),ye=a(74),Ee=a.n(ye),je=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.text,n=this.props.percent;n=Math.max(n,0);var o=[0,255,0],c=o,l=function(e,t,a){var n=Object(h.a)(e,3),r=n[0],o=n[1],c=n[2],l=Object(h.a)(t,3);return[r*(1-a)+l[0]*a,o*(1-a)+l[1]*a,c*(1-a)+l[2]*a]}(o,[255,0,0],(n=Math.min(n,100))/100),i="\n      linear-gradient(\n        to right,\n        rgba(".concat(c.join(","),", ").concat(.2,") 0%,\n        rgba(").concat(l.join(","),", ").concat(.2,") ").concat(n,"%,\n        transparent ").concat(n,"%\n      )\n    ");return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.inner,style:{background:i}},a))}}]),a}(r.a.Component),Oe=Object(k.a)((function(e){return Object(y.a)({root:{borderColor:e.palette.divider,borderStyle:"solid",borderWidth:1},inner:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)}})}))(je),ke=function(e){var t=function(e){if(0===e.length)return 0;var t,a=0,n=0,r=Object(X.a)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value,c=o.weight;a+=c*o.value,n+=c}}catch(l){r.e(l)}finally{r.f()}return a/n}(e.nodes.map((function(e){return{weight:e.cpus[0],value:e.cpu}})));return r.a.createElement("div",{style:{minWidth:60}},r.a.createElement(Oe,{percent:t,text:"".concat(t.toFixed(1),"%")}))},xe=function(e){var t=e.node;return r.a.createElement("div",{style:{minWidth:60}},r.a.createElement(Oe,{percent:t.cpu,text:"".concat(t.cpu.toFixed(1),"%")}))},Ce=function(e){var t=e.worker;return r.a.createElement("div",{style:{minWidth:60}},r.a.createElement(Oe,{percent:t.cpu_percent,text:"".concat(t.cpu_percent.toFixed(1),"%")}))},Ne=function(e,t){return"".concat((e/("mebibyte"===t?Math.pow(1024,2):Math.pow(1024,3))).toFixed(1)," ").concat("mebibyte"===t?"MiB":"GiB")},we=function(e,t,a){var n=Ne(e,a),r=Ne(t,a),o=100*e/t;return"".concat(n," / ").concat(r," (").concat(o.toFixed(0),"%)")},Se=function(e){var t=Math.floor(e)%60,a=Math.floor(e/60)%60,n=Math.floor(e/60/60)%24,r=Math.floor(e/60/60/24),o=function(e){return e.toString().padStart(2,"0")};return[r?"".concat(r,"d"):"","".concat(o(n),"h"),"".concat(o(a),"m"),"".concat(o(t),"s")].join(" ")},Ie=function(e){var t,a=e.nodes,n=0,o=0,c=Object(X.a)(a);try{for(c.s();!(t=c.n()).done;){var l=t.value;n+=l.disk["/"].used,o+=l.disk["/"].total}}catch(i){c.e(i)}finally{c.f()}return r.a.createElement(Oe,{percent:100*n/o,text:we(n,o,"gibibyte")})},Fe=function(e){var t=e.node;return r.a.createElement(Oe,{percent:100*t.disk["/"].used/t.disk["/"].total,text:we(t.disk["/"].used,t.disk["/"].total,"gibibyte")})},Te=function(){return r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"N/A")},Ae=a(78),Le=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(Ae.a)(e,["classes"]);return r.a.createElement("span",Object.assign({className:t.button},a))}}]),a}(r.a.Component),_e=Object(k.a)((function(e){return Object(y.a)({button:{color:e.palette.primary.main,"&:hover":{cursor:"pointer",textDecoration:"underline"}}})}))(Le),De=function(e){return function(t){var a,n=t.nodes,o=0,c=Object(X.a)(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.ip in e&&(o+=e[l.ip].total)}}catch(i){c.e(i)}finally{c.f()}return 0===o?r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"No errors"):r.a.createElement(r.a.Fragment,null,o.toLocaleString()," ",1===o?"error":"errors")}},Re=function(e,t){return function(a){var n=a.node;return 0===e.total?r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"No errors"):r.a.createElement(_e,{onClick:function(){return t(n.hostname,null)}},"View all errors (",e.total.toLocaleString(),")")}},We=function(e,t){return function(a){var n=a.node,o=a.worker;return 0===e.perWorker[o.pid]?r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"No errors"):r.a.createElement(_e,{onClick:function(){return t(n.hostname,o.pid)}},"View errors (",e.perWorker[o.pid].toLocaleString(),")")}},Me=function(e){var t=e.nodes;return r.a.createElement(r.a.Fragment,null,"Totals (",t.length.toLocaleString()," ",1===t.length?"host":"hosts",")")},Be=function(e){var t=e.node;return r.a.createElement(r.a.Fragment,null,t.hostname," (",t.ip,")")},Pe=function(e){var t=e.worker;return r.a.createElement(r.a.Fragment,null,t.cmdline[0].split("::",2)[0]," (PID: ",t.pid,")")},ze=function(e){return function(t){var a,n=t.nodes,o=0,c=Object(X.a)(n);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.ip in e&&(o+=e[l.ip].total)}}catch(i){c.e(i)}finally{c.f()}return 0===o?r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"No logs"):r.a.createElement(r.a.Fragment,null,o.toLocaleString()," ",1===o?"line":"lines")}},Ue=function(e,t){return function(a){var n=a.node;return 0===e.total?r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"No logs"):r.a.createElement(_e,{onClick:function(){return t(n.hostname,null)}},"View all logs (",e.total.toLocaleString()," ",1===e.total?"line":"lines",")")}},He=function(e,t){return function(a){var n=a.node,o=a.worker;return 0===e.perWorker[o.pid]?r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"No logs"):r.a.createElement(_e,{onClick:function(){return t(n.hostname,o.pid)}},"View log (",e.perWorker[o.pid].toLocaleString()," ",1===e.perWorker[o.pid]?"line":"lines",")")}},Ve=function(e){var t,a=e.nodes,n=0,o=0,c=Object(X.a)(a);try{for(c.s();!(t=c.n()).done;){var l=t.value;n+=l.mem[0]-l.mem[1],o+=l.mem[0]}}catch(i){c.e(i)}finally{c.f()}return r.a.createElement(Oe,{percent:100*n/o,text:we(n,o,"gibibyte")})},qe=function(e){var t=e.node;return r.a.createElement(Oe,{percent:100*(t.mem[0]-t.mem[1])/t.mem[0],text:we(t.mem[0]-t.mem[1],t.mem[0],"gibibyte")})},Je=function(e){var t=e.node,a=e.worker;return r.a.createElement(Oe,{percent:100*a.memory_info.rss/t.mem[0],text:Ne(a.memory_info.rss,"mebibyte")})},Ge=function(e){var t,a=e.nodes,n=0,o=Object(X.a)(a);try{for(o.s();!(t=o.n()).done;){n+=t.value.net[1]}}catch(c){o.e(c)}finally{o.f()}return r.a.createElement(r.a.Fragment,null,Ne(n,"mebibyte"),"/s")},Ke=function(e){var t=e.node;return r.a.createElement(r.a.Fragment,null,Ne(t.net[1],"mebibyte"),"/s")},Qe=function(){return r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"N/A")},Xe=function(e){var t,a=e.nodes,n=0,o=Object(X.a)(a);try{for(o.s();!(t=o.n()).done;){n+=t.value.net[0]}}catch(c){o.e(c)}finally{o.f()}return r.a.createElement(r.a.Fragment,null,Ne(n,"mebibyte"),"/s")},Ye=function(e){var t=e.node;return r.a.createElement(r.a.Fragment,null,Ne(t.net[0],"mebibyte"),"/s")},Ze=function(){return r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"N/A")},$e=function(e){return Date.now()/1e3-e},et=function(e){e.nodes;return r.a.createElement(E.a,{color:"textSecondary",component:"span",variant:"inherit"},"N/A")},tt=function(e){var t=e.node;return r.a.createElement(r.a.Fragment,null,Se($e(t.boot_time)))},at=function(e){var t=e.worker;return r.a.createElement(r.a.Fragment,null,Se($e(t.create_time)))},nt=function(e){var t,a=e.nodes,n=0,o=0,c=Object(X.a)(a);try{for(c.s();!(t=c.n()).done;){var l=t.value;n+=l.workers.length,o+=l.cpus[0]}}catch(i){c.e(i)}finally{c.f()}return r.a.createElement(r.a.Fragment,null,n.toLocaleString()," ",1===n?"worker":"workers"," / ",o.toLocaleString()," ",1===o?"core":"cores")},rt=function(e){var t=e.node,a=t.workers.length,n=t.cpus[0];return r.a.createElement(r.a.Fragment,null,a.toLocaleString()," ",1===a?"worker":"workers"," /"," ",n.toLocaleString()," ",1===n?"core":"cores")},ot=function(e){var t=e.worker;return r.a.createElement(r.a.Fragment,null,t.cmdline[0].split("::",2)[1])},ct=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={expanded:e.props.initialExpanded},e.toggleExpand=function(){e.setState((function(e){return{expanded:!e.expanded}}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.node,n=e.raylet,o=e.logCounts,c=e.errorCounts,l=e.setLogDialog,i=e.setErrorDialog,s=this.state.expanded,u=[{NodeFeature:Be,WorkerFeature:Pe},{NodeFeature:rt,WorkerFeature:ot},{NodeFeature:tt,WorkerFeature:at},{NodeFeature:xe,WorkerFeature:Ce},{NodeFeature:qe,WorkerFeature:Je},{NodeFeature:Fe,WorkerFeature:Te},{NodeFeature:Ye,WorkerFeature:Ze},{NodeFeature:Ke,WorkerFeature:Qe},{NodeFeature:Ue(o,l),WorkerFeature:He(o,l)},{NodeFeature:Re(c,i),WorkerFeature:We(c,i)}];return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{hover:!0},r.a.createElement(ee.a,{className:ue()(t.cell,t.expandCollapseCell),onClick:this.toggleExpand},s?r.a.createElement(Ee.a,{className:t.expandCollapseIcon}):r.a.createElement(ve.a,{className:t.expandCollapseIcon})),u.map((function(e,n){var o=e.NodeFeature;return r.a.createElement(ee.a,{className:t.cell,key:n},r.a.createElement(o,{node:a}))}))),s&&r.a.createElement(r.a.Fragment,null,null!==n&&void 0!==n.extraInfo&&r.a.createElement($.a,{hover:!0},r.a.createElement(ee.a,{className:t.cell}),r.a.createElement(ee.a,{className:ue()(t.cell,t.extraInfo),colSpan:u.length},n.extraInfo)),a.workers.map((function(e,n){return r.a.createElement($.a,{hover:!0,key:n},r.a.createElement(ee.a,{className:t.cell}),u.map((function(n,o){var c=n.WorkerFeature;return r.a.createElement(ee.a,{className:t.cell,key:o},r.a.createElement(c,{node:a,worker:e}))})))}))))}}]),a}(r.a.Component),lt=Object(k.a)((function(e){return Object(y.a)({cell:{padding:e.spacing(1),textAlign:"center","&:last-child":{paddingRight:e.spacing(1)}},expandCollapseCell:{cursor:"pointer"},expandCollapseIcon:{color:e.palette.text.secondary,fontSize:"1.5em",verticalAlign:"middle"},extraInfo:{fontFamily:"SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace",whiteSpace:"pre"}})}))(ct),it=a(75),st=a.n(it),ut=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.nodes,n=e.logCounts,o=e.errorCounts,c=[{ClusterFeature:Me},{ClusterFeature:nt},{ClusterFeature:et},{ClusterFeature:ke},{ClusterFeature:Ve},{ClusterFeature:Ie},{ClusterFeature:Xe},{ClusterFeature:Ge},{ClusterFeature:ze(n)},{ClusterFeature:De(o)}];return r.a.createElement($.a,{hover:!0},r.a.createElement(ee.a,{className:t.cell},r.a.createElement(st.a,{className:t.totalIcon})),c.map((function(e,n){var o=e.ClusterFeature;return r.a.createElement(ee.a,{className:t.cell,key:n},r.a.createElement(o,{nodes:a}))})))}}]),a}(r.a.Component),mt=Object(k.a)((function(e){return Object(y.a)({cell:{borderTopColor:e.palette.divider,borderTopStyle:"solid",borderTopWidth:2,padding:e.spacing(1),textAlign:"center","&:last-child":{paddingRight:e.spacing(1)}},totalIcon:{color:e.palette.text.secondary,fontSize:"1.5em",verticalAlign:"middle"}})}))(ut),pt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={logDialog:null,errorDialog:null},e.setLogDialog=function(t,a){e.setState({logDialog:{hostname:t,pid:a}})},e.clearLogDialog=function(){e.setState({logDialog:null})},e.setErrorDialog=function(t,a){e.setState({errorDialog:{hostname:t,pid:a}})},e.clearErrorDialog=function(){e.setState({errorDialog:null})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.nodeInfo,o=t.rayletInfo,c=this.state,l=c.logDialog,i=c.errorDialog;if(null===n||null===o)return r.a.createElement(E.a,{color:"textSecondary"},"Loading...");var s,u={},m={},p=Object(X.a)(n.clients);try{for(p.s();!(s=p.n()).done;){var d=s.value;u[d.ip]={perWorker:{},total:0},m[d.ip]={perWorker:{},total:0};var f,b=Object(X.a)(d.workers);try{for(b.s();!(f=b.n()).done;){var g=f.value;u[d.ip].perWorker[g.pid]=0,m[d.ip].perWorker[g.pid]=0}}catch(D){b.e(D)}finally{b.f()}}}catch(D){p.e(D)}finally{p.f()}for(var v=0,y=Object.keys(n.log_counts);v<y.length;v++){var j=y[v];if(j in u)for(var O=0,k=Object.entries(n.log_counts[j]);O<k.length;O++){var x=Object(h.a)(k[O],2),C=x[0],N=x[1];u[j].perWorker[C]=N,u[j].total+=N}}for(var w=0,S=Object.keys(n.error_counts);w<S.length;w++){var I=S[w];if(I in m)for(var F=0,T=Object.entries(n.error_counts[I]);F<T.length;F++){var A=Object(h.a)(T[F],2),L=A[0],_=A[1];m[I].perWorker[L]=_,m[I].total+=_}}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:a.table},r.a.createElement(Z.a,null,r.a.createElement($.a,null,r.a.createElement(ee.a,{className:a.cell}),r.a.createElement(ee.a,{className:a.cell},"Host"),r.a.createElement(ee.a,{className:a.cell},"Workers"),r.a.createElement(ee.a,{className:a.cell},"Uptime"),r.a.createElement(ee.a,{className:a.cell},"CPU"),r.a.createElement(ee.a,{className:a.cell},"RAM"),r.a.createElement(ee.a,{className:a.cell},"Disk"),r.a.createElement(ee.a,{className:a.cell},"Sent"),r.a.createElement(ee.a,{className:a.cell},"Received"),r.a.createElement(ee.a,{className:a.cell},"Logs"),r.a.createElement(ee.a,{className:a.cell},"Errors"))),r.a.createElement(te.a,null,n.clients.map((function(t){return r.a.createElement(lt,{key:t.ip,node:t,raylet:t.ip in o.nodes?o.nodes[t.ip]:null,logCounts:u[t.ip],errorCounts:m[t.ip],setLogDialog:e.setLogDialog,setErrorDialog:e.setErrorDialog,initialExpanded:n.clients.length<=1})})),r.a.createElement(mt,{nodes:n.clients,logCounts:u,errorCounts:m}))),null!==l&&r.a.createElement(ge,{clearLogDialog:this.clearLogDialog,hostname:l.hostname,pid:l.pid}),null!==i&&r.a.createElement(fe,{clearErrorDialog:this.clearErrorDialog,hostname:i.hostname,pid:i.pid}))}}]),a}(r.a.Component),dt=Object(p.b)((function(e){return{nodeInfo:e.dashboard.nodeInfo,rayletInfo:e.dashboard.rayletInfo}}))(Object(k.a)((function(e){return Object(y.a)({table:{marginTop:e.spacing(1)},cell:{padding:e.spacing(1),textAlign:"center","&:last-child":{paddingRight:e.spacing(1)}}})}))(pt)),ft=a(56),bt=Object(ft.b)({name:"dashboard",initialState:{tab:0,rayConfig:null,nodeInfo:null,rayletInfo:null,tuneInfo:null,tuneAvailability:!1,lastUpdatedAt:null,error:null},reducers:{setTab:function(e,t){e.tab=t.payload},setRayConfig:function(e,t){e.rayConfig=t.payload},setNodeAndRayletInfo:function(e,t){e.nodeInfo=t.payload.nodeInfo,e.rayletInfo=t.payload.rayletInfo,e.lastUpdatedAt=Date.now()},setTuneInfo:function(e,t){e.tuneInfo=t.payload,e.lastUpdatedAt=Date.now()},setTuneAvailability:function(e,t){var a=null!==t.payload.tuneAvailability&&t.payload.tuneAvailability.available;e.tuneAvailability=a,e.lastUpdatedAt=Date.now()},setError:function(e,t){e.error=t.payload}}}),gt=bt.actions,ht=bt.reducer,vt=gt,yt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).refreshRayConfig=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N();case 3:a=t.sent,e.props.setRayConfig(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.prev=9,setTimeout(e.refreshRayConfig,1e4),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,7,9,12]])}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshRayConfig();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.rayConfig;if(null===a)return r.a.createElement(E.a,{color:"textSecondary"},"No Ray configuration detected.");var n=[{key:"Autoscaling mode",value:a.autoscaling_mode},{key:"Head node type",value:a.head_type},{key:"Worker node type",value:a.worker_type},{key:"Min worker nodes",value:a.min_workers},{key:"Initial worker nodes",value:a.initial_workers},{key:"Max worker nodes",value:a.max_workers},{key:"Idle timeout",value:"".concat(a.idle_timeout_minutes," ").concat(1===a.idle_timeout_minutes?"minute":"minutes")}];return r.a.createElement("div",null,r.a.createElement(E.a,null,"Ray cluster configuration:"),r.a.createElement(Y.a,{className:t.table},r.a.createElement(Z.a,null,r.a.createElement($.a,null,r.a.createElement(ee.a,{className:t.cell},"Setting"),r.a.createElement(ee.a,{className:t.cell},"Value"))),r.a.createElement(te.a,null,n.map((function(e,a){var n=e.key,o=e.value;return r.a.createElement($.a,{key:a},r.a.createElement(ee.a,{className:ue()(t.cell,t.key)},n),r.a.createElement(ee.a,{className:t.cell},o))})))))}}]),a}(r.a.Component),Et=Object(p.b)((function(e){return{rayConfig:e.dashboard.rayConfig}}),vt)(Object(k.a)((function(e){return Object(y.a)({table:{marginTop:e.spacing(1),width:"auto"},cell:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:e.spacing(3),paddingRight:e.spacing(3),textAlign:"center","&:last-child":{paddingRight:e.spacing(3)}},key:{color:e.palette.text.secondary}})}))(yt)),jt=a(129),Ot=gt,kt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).timeout=0,e.state={sortedColumn:void 0,ascending:!0,metricParamColumn:""},e.onColumnClick=function(t,a){var n=e.state.ascending;n=t!==e.state.sortedColumn||!n,e.setState({sortedColumn:t,ascending:n}),a&&e.setState({metricParamColumn:a})},e.humanize=function(e){return e.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")},e.sortedCell=function(t,a){var n=e.props,o=n.tuneInfo,c=n.classes,l=e.state,i=l.sortedColumn,s=l.ascending,u=l.metricParamColumn,m="asc";if(t!==i||s||(m="desc"),null!==o){var p=function(){return e.onColumnClick(t)};a&&(p=function(){return e.onColumnClick(t,a)});var d=!1,f=t;return a?(f=a,d=a===u&&i===t):d=t===i,r.a.createElement(ee.a,{className:c.cell,key:f,onClick:p},r.a.createElement(jt.a,{active:d,direction:m}),a?e.humanize(a):e.humanize(t))}},e.sortedTrialRecords=function(){var t=e.props.tuneInfo,a=e.state,n=a.sortedColumn,r=a.ascending,o=a.metricParamColumn;if(null===t||0===Object.keys(t.trial_records).length)return null;var c=Object.values(t.trial_records);if(!n)return c;var l=function(e){return e[n]};return"metrics"!==n&&"params"!==n||(l=function(e){return e[n][o]}),n&&(r?c.sort((function(e,t){return l(e)>l(t)?1:-1})):r||c.sort((function(e,t){return l(e)<l(t)?1:-1}))),c},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tuneInfo;if(null===n||0===Object.keys(n.trial_records).length)return null;var o=Object.keys(n.trial_records)[0],c=n.trial_records[o].params,l=Object.keys(c).filter((function(e){return"args"!==e})),i=Object.keys(n.trial_records[o].metrics),s=this.sortedTrialRecords();return r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{className:a.table},r.a.createElement(Z.a,null,r.a.createElement($.a,null,this.sortedCell("trial_id"),this.sortedCell("job_id"),this.sortedCell("start_time"),l.map((function(t){return e.sortedCell("params",t)})),this.sortedCell("status"),i.map((function(t){return e.sortedCell("metrics",t)})))),r.a.createElement(te.a,null,null!==s&&s.map((function(e,t){return r.a.createElement($.a,{key:t},r.a.createElement(ee.a,{className:a.cell},e.trial_id),r.a.createElement(ee.a,{className:a.cell},e.job_id),r.a.createElement(ee.a,{className:a.cell},e.start_time),l.map((function(t){return r.a.createElement(ee.a,{className:a.cell,key:t},e.params[t])})),r.a.createElement(ee.a,{className:a.cell},e.status),e.metrics&&i.map((function(t){return r.a.createElement(ee.a,{className:a.cell,key:t},e.metrics[t])})))})))))}}]),a}(r.a.Component),xt=Object(p.b)((function(e){return{tuneInfo:e.dashboard.tuneInfo}}),Ot)(Object(k.a)((function(e){return Object(y.a)({root:{padding:e.spacing(2),"& > :not(:first-child)":{marginTop:e.spacing(2)}},table:{marginTop:e.spacing(1)},cell:{padding:e.spacing(1),textAlign:"right","&:last-child":{paddingRight:e.spacing(1)}}})}))(kt)),Ct=gt,Nt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.error;return r.a.createElement("div",{className:t.root},"TypeError: Failed to fetch"===a&&r.a.createElement(E.a,{className:t.warning,color:"textSecondary"},'Warning: Tensorboard server closed. View Tensorboard by running "tensorboard --logdir" if not displaying below.'),r.a.createElement("iframe",{src:"http://localhost:6006/",className:t.board,title:"TensorBoard"}))}}]),a}(r.a.Component),wt=Object(p.b)((function(e){return{error:e.dashboard.error}}),Ct)(Object(k.a)((function(e){return Object(y.a)({root:{backgroundColor:e.palette.background.paper,padding:e.spacing(2),"& > :not(:first-child)":{marginTop:e.spacing(4)}},board:{width:"100%",height:"1000px",border:"none"},warning:{fontSize:"0.8125rem"}})}))(Nt)),St=gt,It=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).timeout=0,e.state={tabIndex:0},e.refreshTuneInfo=Object(v.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D();case 3:a=t.sent,e.props.setTuneInfo(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.props.setError(t.t0.toString());case 10:return t.prev=10,e.timeout=window.setTimeout(e.refreshTuneInfo,1e3),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])}))),e.handleTabChange=function(t,a){e.setState({tabIndex:a})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshTuneInfo();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.clearTimeout(this.timeout);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.state.tabIndex,a=[{label:"Table",component:xt},{label:"TensorBoard",component:wt}],n=a[t].component;return r.a.createElement("div",{className:e.root},r.a.createElement(E.a,{className:e.warning,color:"textSecondary"},r.a.createElement(P.a,{className:e.warningIcon})," Note: This tab is experimental."),r.a.createElement(j.a,{className:e.tabs,indicatorColor:"primary",onChange:this.handleTabChange,textColor:"primary",value:t},a.map((function(e){var t=e.label;return r.a.createElement(O.a,{key:t,label:t})}))),r.a.createElement(n,null))}}]),a}(r.a.Component),Ft=Object(p.b)((function(e){return{tuneInfo:e.dashboard.tuneInfo}}),St)(Object(k.a)((function(e){return Object(y.a)({root:{backgroundColor:e.palette.background.paper},tabs:{borderBottomColor:e.palette.divider,borderBottomStyle:"solid",borderBottomWidth:1},warning:{fontSize:"0.8125rem"},warningIcon:{fontSize:"1.25em",verticalAlign:"text-bottom"}})}))(It)),Tt=gt,At=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).timeoutId=0,e.refreshNodeAndRayletInfo=Object(v.a)(g.a.mark((function t(){var a,n,r,o,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([w(),S(),R()]);case 3:a=t.sent,n=Object(h.a)(a,3),r=n[0],o=n[1],c=n[2],e.props.setNodeAndRayletInfo({nodeInfo:r,rayletInfo:o}),e.props.setTuneAvailability({tuneAvailability:c}),e.props.setError(null),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.props.setError(t.t0.toString());case 16:return t.prev=16,e.timeoutId=window.setTimeout(e.refreshNodeAndRayletInfo,1e3),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])}))),e.handleTabChange=function(t,a){e.props.setTab(a)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refreshNodeAndRayletInfo();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.tab,n=e.tuneAvailability,o=[{label:"Machine view",component:dt},{label:"Logical view",component:Q},{label:"Ray config",component:Et},{label:"Tune",component:Ft}];n||o.splice(3);var c=o[a].component;return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{variant:"h5"},"Ray Dashboard"),r.a.createElement(j.a,{className:t.tabs,indicatorColor:"primary",onChange:this.handleTabChange,textColor:"primary",value:a},o.map((function(e){var t=e.label;return r.a.createElement(O.a,{key:t,label:t})}))),r.a.createElement(c,null),r.a.createElement(M,null))}}]),a}(r.a.Component),Lt=Object(p.b)((function(e){return{tab:e.dashboard.tab,tuneAvailability:e.dashboard.tuneAvailability}}),Tt)(Object(k.a)((function(e){return Object(y.a)({root:{backgroundColor:e.palette.background.paper,padding:e.spacing(2),"& > :not(:first-child)":{marginTop:e.spacing(4)}},tabs:{borderBottomColor:e.palette.divider,borderBottomStyle:"solid",borderBottomWidth:1}})}))(At)),_t=Object(ft.a)({reducer:{dashboard:ht},devTools:!1}),Dt=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(p.a,{store:_t},r.a.createElement(d.a,null,r.a.createElement(m.a,null),r.a.createElement(f.a,{component:Lt,exact:!0,path:"/"})))}}]),a}(r.a.Component);c.a.render(r.a.createElement(Dt,null),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.30be088e.chunk.js.map